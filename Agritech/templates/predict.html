<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Smart Agriculture - Intelligent Farming Solutions</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
   
    <link rel="stylesheet" href="/Agritech/css/predict.css">
</head>
<body class="min-h-screen bg-gray-50">
    <!-- Notification element -->
    <div id="notification" class="notification"></div>

    <!-- Navigation -->
    <nav class="bg-white shadow-md py-4 z-50 bg-blur fixed w-full top-0">
        <div class="container mx-auto px-4 md:px-6 flex flex-wrap items-center justify-between">
            <!-- Logo/Brand Name -->
            <a href="#" class="flex items-center space-x-2">
                <span class="text-3xl font-bold bg-gradient-to-r from-blue-500 to-green-500 bg-clip-text text-transparent">AgriTech</span>
            </a>

            <!-- Desktop Navigation Links -->
            <div class="hidden md:flex items-center space-x-8" id="nav-links">
                <a href="index.html" class="nav-link text-gray-600 hover:text-blue-500">Home</a>
                <a href="about.html" class="nav-link text-gray-600 hover:text-blue-500">About</a>
                <a href="contact.html" class="nav-link text-gray-600 hover:text-blue-500">Contact</a>
            </div>

            <!-- Mobile Menu Button -->
            <button id="mobile-menu-btn" class="md:hidden text-gray-500 hover:text-blue-500">
                <i class="fas fa-bars text-2xl"></i>
            </button>
        </div>

        <!-- Mobile Navigation Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-white px-4 py-2 shadow-inner">
            <div class="flex flex-col space-y-3">
                <a href="index.html" class="py-2 text-gray-600 hover:text-blue-500">Home</a>
                <a href="about.html" class="py-2 text-gray-600 hover:text-blue-500">About</a>
                <a href="contact.html" class="py-2 text-gray-600 hover:text-blue-500">Contact</a>
            </div>
        </div>
    </nav>

    <!-- Header with Navigation -->
    <div class="header" style="margin-top: 80px;">
        <h1>üå± AI Smart Agriculture</h1>
        <p>Intelligent Farming Solutions Powered by Machine Learning</p>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- AI Service Tabs -->
        <div class="ai-tabs">
            <button class="ai-tab active" onclick="switchAITab('crop')">
                üåæ Crop Recommendation
            </button>
            <button class="ai-tab" onclick="switchAITab('fertilizer')">
                üß™ Fertilizer Recommendation
            </button>
            <button class="ai-tab" onclick="switchAITab('soil')">
                üåç Soil Analysis
            </button>
        </div>

        <!-- Crop Recommendation -->
        <div id="crop-service" class="service-content active">
            <div class="service-card">
                <div class="service-header">
                    <div class="service-icon">üåæ</div>
                    <h3>Crop Recommendation</h3>
                    <p class="description">Get AI-powered crop suggestions based on soil conditions, climate, and environmental factors for optimal farming decisions.</p>
                </div>
                
                <form id="cropForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="nitrogen">Nitrogen (N)</label>
                            <input type="number" id="nitrogen" name="nitrogen" placeholder="Enter nitrogen level (mg/kg)" required>
                        </div>
                        <div class="form-group">
                            <label for="phosphorus">Phosphorus (P)</label>
                            <input type="number" id="phosphorus" name="phosphorus" placeholder="Enter phosphorus level (mg/kg)" required>
                        </div>
                        <div class="form-group">
                            <label for="potassium">Potassium (K)</label>
                            <input type="number" id="potassium" name="potassium" placeholder="Enter potassium level (mg/kg)" required>
                        </div>
                        <div class="form-group">
                            <label for="temperature">Temperature (¬∞C)</label>
                            <input type="number" id="temperature" name="temperature" step="0.1" placeholder="Enter temperature" required>
                        </div>
                        <div class="form-group">
                            <label for="humidity">Humidity (%)</label>
                            <input type="number" id="humidity" name="humidity" step="0.1" placeholder="Enter humidity percentage" required>
                        </div>
                        <div class="form-group">
                            <label for="ph">pH Level</label>
                            <input type="number" id="ph" name="ph" step="0.1" placeholder="Enter soil pH level" required>
                        </div>
                        <div class="form-group">
                            <label for="rainfall">Rainfall (mm)</label>
                            <input type="number" id="rainfall" name="rainfall" step="0.1" placeholder="Enter annual rainfall" required>
                        </div>
                        <div class="form-group">
                            <label for="soil_type">Soil Type</label>
                            <select id="soil_type" name="soil_type" required>
    <option value="">Select soil type</option>
    <option value="alluvial">Alluvial</option>
    <option value="black">Black</option>
    <option value="cinder">Cinder</option>
    <option value="clay">Clay</option>
    <option value="laterite">Laterite</option>
    <option value="loamy">Loamy</option>
    <option value="peat">Peat</option>
    <option value="red">Red</option>
    <option value="sandy">Sandy</option>
    <option value="sandy_loam">Sandy Loam</option>
</select>

                        </div>
                    </div>
                    
                    <button type="submit" class="predict-btn">üîç Get Crop Recommendation</button>
                </form>
                
                <div class="loading" id="cropLoading">
                    <div class="spinner"></div>
                    <p>Analyzing soil and climate conditions...</p>
                </div>
                
                <div class="result-box" id="cropResult">
                    <h4>üå± Recommended Crop:</h4>
                    <p id="cropOutput"></p>
                </div>
            </div>
        </div>

        <!-- Fertilizer Recommendation -->
        <div id="fertilizer-service" class="service-content">
            <div class="service-card">
                <div class="service-header">
                    <div class="service-icon">üß™</div>
                    <h3>Fertilizer Recommendation</h3>
                    <p class="description">Optimize your fertilizer usage with AI recommendations for maximum crop yield and sustainable farming practices.</p>
                </div>
                
                <form id="fertilizerForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="fert_nitrogen">Nitrogen (N)</label>
                            <input type="number" id="fert_nitrogen" name="nitrogen" placeholder="Enter nitrogen level (mg/kg)" required>
                        </div>
                        <div class="form-group">
                            <label for="fert_phosphorus">Phosphorus (P)</label>
                            <input type="number" id="fert_phosphorus" name="phosphorus" placeholder="Enter phosphorus level (mg/kg)" required>
                        </div>
                        <div class="form-group">
                            <label for="fert_potassium">Potassium (K)</label>
                            <input type="number" id="fert_potassium" name="potassium" placeholder="Enter potassium level (mg/kg)" required>
                        </div>
                        <div class="form-group">
                            <label for="fert_temperature">Temperature (¬∞C)</label>
                            <input type="number" id="fert_temperature" name="temperature" step="0.1" placeholder="Enter temperature" required>
                        </div>
                        <div class="form-group">
                            <label for="fert_humidity">Humidity (%)</label>
                            <input type="number" id="fert_humidity" name="humidity" step="0.1" placeholder="Enter humidity percentage" required>
                        </div>
                        <div class="form-group">
                            <label for="fert_soil_type">Soil Type</label>
                            <select id="fert_soil_type" name="soil_type" required>
                                <option value="">Select soil type</option>
                                <option value="Sandy">Sandy</option>
                                <option value="Loamy">Loamy</option>
                                <option value="Black">Black</option>
                                <option value="Red">Red</option>
                                <option value="Clayey">Clayey</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="crop_type">Crop Type</label>
                            <select id="crop_type" name="crop_type" required>
                                <option value="">Select crop</option>
                                <option value="Maize">Maize</option>
                                <option value="Sugarcane">Sugarcane</option>
                                <option value="Cotton">Cotton</option>
                                <option value="Tobacco">Tobacco</option>
                                <option value="Paddy">Paddy</option>
                                <option value="Barley">Barley</option>
                                <option value="Wheat">Wheat</option>
                                <option value="Millets">Millets</option>
                                <option value="Oil seeds">Oil seeds</option>
                                <option value="Pulses">Pulses</option>
                                <option value="Ground Nuts">Ground Nuts</option>
                            </select>
                        </div>
                    </div>
                    
                    <button type="submit" class="predict-btn">üî¨ Get Fertilizer Recommendation</button>
                </form>
                
                <div class="loading" id="fertilizerLoading">
                    <div class="spinner"></div>
                    <p>Calculating optimal fertilizer composition...</p>
                </div>
                
                <div class="result-box" id="fertilizerResult">
                    <h4>üåø Recommended Fertilizer:</h4>
                    <p id="fertilizerOutput"></p>
                </div>
            </div>
        </div>

        <!-- Soil Analysis -->
        <div id="soil-service" class="service-content">
            <div class="service-card">
                <div class="service-header">
                    <div class="service-icon">üåç</div>
                    <h3>Soil Analysis</h3>
                    <p class="description">Upload soil images for AI-powered analysis to determine soil health, composition, and get personalized recommendations.</p>
                </div>
                
                <form id="soilForm">
                    <div class="file-upload" onclick="document.getElementById('soilImage').click()">
                        <div class="upload-icon">üì∑</div>
                        <h4>Upload Soil Image</h4>
                        <p>Click here to select a soil image for analysis</p>
                        <input type="file" id="soilImage" name="soilImage" accept="image/*" required>
                    </div>
                    
                    <button type="submit" class="predict-btn">üîç Analyze Soil Type</button>
                </form>
                
                <div class="loading" id="soilLoading">
                    <div class="spinner"></div>
                    <p>Analyzing soil composition and health...</p>
                </div>
                
                <div class="result-box" id="soilResult">
                    <h4>üå± Soil Analysis Results:</h4>
                    <p id="soilOutput"></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-grid">
                <!-- Logo / About -->
                <div>
                    <div class="footer-logo">
                        <span class="logo-icon">üå±</span>
                        Crop & Soil AI
                    </div>
                    <p class="footer-about">
                        Revolutionizing agriculture with AI-driven crop recommendations and intelligent soil analysis. Join us in shaping the future of farming.
                    </p>
                </div>
                
                <!-- Quick Links -->
                <div>
                    <h3 class="footer-heading">Explore</h3>
                    <ul class="footer-list">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="#soil-service">Soil Analyzer</a></li>
                        <li><a href="#crop-service">Crop Suggestions</a></li>
                        <li><a href="about.html">About Us</a></li>
                    </ul>
                </div>
                
                <!-- Contact -->
                <div>
                    <h3 class="footer-heading">Contact</h3>
                    <div class="contact-item">
                        <span class="contact-label">Email:</span>
                        <a href="mailto:support@cropsoil.ai">support@cropsoil.ai</a>
                    </div>
                    <div class="contact-item">
                        <span class="contact-label">Phone:</span>
                        <span>+91 98765 43210</span>
                    </div>
                    <div class="contact-item">
                        <span class="contact-label">Location:</span>
                        <span>Kolkata, India</span>
                    </div>
                </div>
            </div>
            
            <!-- Bottom Line -->
            <div class="footer-bottom">
                ¬© 2025 Crop & Soil AI ‚Äî Advancing agriculture with intelligent analysis
            </div>
        </div>
    </footer>
<script>
    // Global function for tab switching
    function switchAITab(service) {
        const tabs = document.querySelectorAll('.ai-tab');
        const services = document.querySelectorAll('.service-content');

        tabs.forEach(tab => {
            tab.classList.remove('active');
            if (tab.textContent.toLowerCase().includes(service)) {
                tab.classList.add('active');
            }
        });

        services.forEach(section => {
            section.classList.remove('active');
            if (section.id === service + '-service') {
                section.classList.add('active');
            }
        });
    }

    document.addEventListener("DOMContentLoaded", () => {
        console.log("JavaScript loaded");

        // Mobile menu toggle
        document.getElementById("mobile-menu-btn").addEventListener("click", function () {
            const menu = document.getElementById("mobile-menu");
            menu.classList.toggle("hidden");
        });

        // Crop Form Handler
        const cropForm = document.getElementById("cropForm");
        if (cropForm) {
            cropForm.addEventListener("submit", async function (e) {
                e.preventDefault();
                
                // Show loading
                document.getElementById("cropLoading").style.display = "block";
                document.getElementById("cropResult").style.display = "none";

                const data = {
                    nitrogen: parseFloat(document.getElementById("nitrogen").value),
                    phosphorus: parseFloat(document.getElementById("phosphorus").value),
                    potassium: parseFloat(document.getElementById("potassium").value),
                    temperature: parseFloat(document.getElementById("temperature").value),
                    humidity: parseFloat(document.getElementById("humidity").value),
                    ph: parseFloat(document.getElementById("ph").value),
                    rainfall: parseFloat(document.getElementById("rainfall").value)
                };
                
                console.log("Sending crop data:", data);
                
                try {
                    const response = await fetch("http://127.0.0.1:5000/predict_crop", {
                        method: "POST",
                        headers: { 
                            "Content-Type": "application/json",
                            "Accept": "application/json"
                        },
                        body: JSON.stringify(data)
                    });

                    console.log("Response status:", response.status);
                    
                    if (!response.ok) {
                        const errorText = await response.text();
                        throw new Error(`HTTP ${response.status} - ${errorText}`);
                    }

                    const result = await response.json();
                    console.log("Crop prediction result:", result);
                    
                    // Hide loading and show result
                    document.getElementById("cropLoading").style.display = "none";
                    document.getElementById("cropResult").style.display = "block";
                    document.getElementById("cropOutput").textContent = result.prediction;
                    
                } catch (error) {
                    console.error("Crop prediction error:", error);
                    document.getElementById("cropLoading").style.display = "none";
                    alert("Failed to get crop prediction: " + error.message + "\n\nMake sure your Flask server is running on http://127.0.0.1:5000");
                }
            });
        }

        // Fertilizer Form Handler
        const fertilizerForm = document.getElementById("fertilizerForm");
        if (fertilizerForm) {
            fertilizerForm.addEventListener("submit", async function (e) {
                e.preventDefault();
                
                // Show loading
                document.getElementById("fertilizerLoading").style.display = "block";
                document.getElementById("fertilizerResult").style.display = "none";

                const data = {
                    nitrogen: parseFloat(document.getElementById("fert_nitrogen").value),
                    phosphorus: parseFloat(document.getElementById("fert_phosphorus").value),
                    potassium: parseFloat(document.getElementById("fert_potassium").value),
                    temperature: parseFloat(document.getElementById("fert_temperature").value),
                    humidity: parseFloat(document.getElementById("fert_humidity").value)
                };

                console.log("Sending fertilizer data:", data);

                try {
                    const response = await fetch("http://127.0.0.1:5000/predict_fertilizer", {
                        method: "POST",
                        headers: { 
                            "Content-Type": "application/json",
                            "Accept": "application/json"
                        },
                        body: JSON.stringify(data)
                    });

                    console.log("Response status:", response.status);

                    if (!response.ok) {
                        const errorText = await response.text();
                        throw new Error(`HTTP ${response.status} - ${errorText}`);
                    }

                    const result = await response.json();
                    console.log("Fertilizer prediction result:", result);
                    
                    // Hide loading and show result
                    document.getElementById("fertilizerLoading").style.display = "none";
                    document.getElementById("fertilizerResult").style.display = "block";
                    document.getElementById("fertilizerOutput").textContent = result.prediction;
                    
                } catch (error) {
                    console.error("Fertilizer prediction error:", error);
                    document.getElementById("fertilizerLoading").style.display = "none";
                    alert("Failed to get fertilizer prediction: " + error.message + "\n\nMake sure your Flask server is running on http://127.0.0.1:5000");
                }
            });
        }

        // Soil Form Handler
        const soilForm = document.getElementById("soilForm");
        if (soilForm) {
            soilForm.addEventListener("submit", async function (e) {
                e.preventDefault();
                
                // Show loading
                document.getElementById("soilLoading").style.display = "block";
                document.getElementById("soilResult").style.display = "none";

                const image = document.getElementById("soilImage").files[0];
                if (!image) {
                    alert("Please upload a soil image.");
                    document.getElementById("soilLoading").style.display = "none";
                    return;
                }

                const formData = new FormData();
                formData.append("soilImage", image);

                console.log("Sending soil image:", image.name);

                try {
                    const response = await fetch("http://127.0.0.1:5000/predict_soil", {
                        method: "POST",
                        body: formData
                    });

                    console.log("Response status:", response.status);

                    if (!response.ok) {
                        const errorText = await response.text();
                        throw new Error(`HTTP ${response.status} - ${errorText}`);
                    }

                    const result = await response.json();
                    console.log("Soil analysis result:", result);
                    
                    // Hide loading and show result
                    document.getElementById("soilLoading").style.display = "none";
                    document.getElementById("soilResult").style.display = "block";
                    document.getElementById("soilOutput").textContent = result.prediction;
                    
                } catch (error) {
                    console.error("Soil analysis error:", error);
                    document.getElementById("soilLoading").style.display = "none";
                    alert("Failed to get soil analysis: " + error.message + "\n\nMake sure your Flask server is running on http://127.0.0.1:5000");
                }
            });
        }
    });
</script>



</body>
</html>